# ğŸ¾ å® ç‰©çºªå¿µå¢“åœ°ç½‘ç«™

ä¸€ä¸ªæ¸©é¦¨çš„åœ¨çº¿çºªå¿µå¹³å°ï¼Œè®©æ‚¨ä¸ºå¿ƒçˆ±çš„å® ç‰©åˆ›å»ºæ°¸æ’çš„çºªå¿µç©ºé—´ã€‚

## ğŸŒŸ åœ¨çº¿é¢„è§ˆ

**ğŸ‘‰ [ç‚¹å‡»è¿™é‡Œè®¿é—®åœ¨çº¿æ¼”ç¤º](https://inernoro.github.io/lapoflove/)**

**ğŸ‘¨â€ğŸ’¼ [ç®¡ç†åå°æ¼”ç¤º](https://inernoro.github.io/lapoflove/admin.html)**

> æ³¨ï¼šè¿™æ˜¯GitHub Pagesä¸Šçš„é™æ€æ¼”ç¤ºç‰ˆæœ¬ï¼Œå±•ç¤ºæ‰€æœ‰åŠŸèƒ½å’ŒçœŸå®æ•°æ®
> 
> ç®¡ç†åå°ç™»å½•ä¿¡æ¯ï¼š
> - ç”¨æˆ·åï¼š`admin`
> - å¯†ç ï¼š`lapoflove2025`
 

é™æ€æ¼”ç¤ºç‰ˆæœ¬ç‰¹ç‚¹ï¼š
- âœ… æ— éœ€åç«¯æœåŠ¡å™¨ï¼Œçº¯é™æ€é¡µé¢
- âœ… åŒ…å«å®Œæ•´çš„ UI å’Œäº¤äº’
- âœ… æ˜¾ç¤ºçœŸå®çš„çºªå¿µæ•°æ®ï¼ˆä»data/memorials.jsonåŠ è½½ï¼‰
- âœ… å¯ä»¥æµ‹è¯•è¡¨å•æäº¤æµç¨‹ï¼ˆé™æ€ç‰ˆæœ¬ä¸ä¼šçœŸå®ä¿å­˜ï¼‰
- âœ… å®Œæ•´å±•ç¤ºlocalhost:3000çš„æ•ˆæœ

## ğŸ“¦ ä¸¤ç§éƒ¨ç½²æ–¹å¼

### 1. é™æ€ç‰ˆæœ¬ï¼ˆGitHub Pages / ä»»ä½•é™æ€æ‰˜ç®¡ï¼‰
é€‚åˆå¿«é€Ÿé¢„è§ˆå’Œæ¼”ç¤ºï¼Œæ— éœ€æ•°æ®åº“

### 2. å®Œæ•´ç‰ˆæœ¬ï¼ˆå¸¦åç«¯æœåŠ¡å™¨ï¼‰
éœ€è¦ Node.js ç¯å¢ƒï¼Œæ”¯æŒçœŸå®çš„æ•°æ®å­˜å‚¨å’Œæ–‡ä»¶ä¸Šä¼ 

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ¾ **åˆ›å»ºçºªå¿µå¢“åœ°** - ä¸ºæ‚¨çš„å® ç‰©åˆ›å»ºä¸ªæ€§åŒ–çš„çºªå¿µé¡µé¢
- ğŸ“¸ **ç…§ç‰‡å±•ç¤º** - ä¸Šä¼ å¤šå¼ ç…§ç‰‡è®°å½•ç¾å¥½æ—¶å…‰
- ğŸ“ **çºªå¿µæ•…äº‹** - åˆ†äº«å…³äºå® ç‰©çš„æ¸©é¦¨å›å¿†
- ğŸ•¯ï¸ **çºªå¿µèœ¡çƒ›** - å…¶ä»–äººå¯ä»¥ä¸ºæ‚¨çš„å® ç‰©ç‚¹äº®èœ¡çƒ›ç•™è¨€
- ğŸ” **æœç´¢åŠŸèƒ½** - æŒ‰å® ç‰©åå­—æˆ–ä¸»äººå§“åæœç´¢çºªå¿µå¢“åœ°
- ğŸ“± **å“åº”å¼è®¾è®¡** - åœ¨æ‰‹æœºã€å¹³æ¿å’Œç”µè„‘ä¸Šéƒ½èƒ½å®Œç¾æ˜¾ç¤º
- ğŸ¨ **ç²¾ç¾UI** - æ¸å˜è‰²å½© + æ¯›ç»ç’ƒæ•ˆæœ
- ğŸ‘¨â€ğŸ’¼ **ç®¡ç†é¢æ¿** - ç®¡ç†çºªå¿µå†…å®¹å’Œç”¨æˆ·

## æŠ€æœ¯æ ˆ

- **åç«¯**: Node.js + Express
- **å‰ç«¯**: HTML5 + CSS3 + JavaScript (åŸç”Ÿ)
- **æ–‡ä»¶ä¸Šä¼ **: Multer
- **æ•°æ®å­˜å‚¨**: JSONæ–‡ä»¶
- **UIè®¾è®¡**: æ¸å˜è‰²å½© + æ¯›ç»ç’ƒæ•ˆæœ
- **éƒ¨ç½²**: GitHub Pages / Docker / VPS

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šé™æ€é¢„è§ˆç‰ˆæœ¬ï¼ˆæ¨èç”¨äºæ¼”ç¤ºï¼‰

é€‚åˆ Windows ç”¨æˆ·å¿«é€Ÿé¢„è§ˆï¼Œæ— éœ€é…ç½®åç«¯ï¼š

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨é™æ€é¢„è§ˆæœåŠ¡å™¨ï¼ˆè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼‰
npm run dev:static

# è®¿é—® http://localhost:3000
```

è¿™ä¸ªæ¨¡å¼ä¼šæ‰“å¼€ `index-static.html`ï¼Œä½¿ç”¨å†…ç½®çš„æ¨¡æ‹Ÿæ•°æ®ï¼Œæ— éœ€åç«¯æœåŠ¡å™¨ã€‚

### æ–¹å¼äºŒï¼šå®Œæ•´æœåŠ¡å™¨ç‰ˆæœ¬

éœ€è¦ Node.js åç«¯æ”¯æŒï¼Œæ”¯æŒçœŸå®çš„æ•°æ®å­˜å‚¨ï¼š

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå¸¦çƒ­é‡è½½ï¼‰
npm run dev

# æˆ–è€…å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start

# è®¿é—® http://localhost:3000
```

## ğŸ“¦ æ„å»ºä¸éƒ¨ç½²

### æ„å»ºé™æ€ç‰ˆæœ¬ï¼ˆç”¨äº GitHub Pagesï¼‰

```bash
# æ„å»ºé™æ€é¡µé¢åˆ° dist ç›®å½•
npm run build

# dist ç›®å½•å¯ä»¥ç›´æ¥éƒ¨ç½²åˆ°ä»»ä½•é™æ€æ‰˜ç®¡å¹³å°
```

### æ„å»ºæœåŠ¡å™¨ç‰ˆæœ¬ï¼ˆç”¨äº VPS / Dockerï¼‰

```bash
# æ„å»ºå®Œæ•´ç‰ˆæœ¬åˆ° dist ç›®å½•
npm run build:server

# ç„¶åå¯ä»¥æ‰“åŒ…éƒ¨ç½²åˆ°æœåŠ¡å™¨
cd dist
npm install --production
npm start
```

### GitHub Pages è‡ªåŠ¨éƒ¨ç½²

æœ¬é¡¹ç›®å·²é…ç½® GitHub Actionsï¼Œæ¨é€åˆ° master åˆ†æ”¯ä¼šè‡ªåŠ¨ï¼š
1. æ„å»ºé™æ€ç‰ˆæœ¬
2. éƒ¨ç½²åˆ° GitHub Pages
3. é€šè¿‡ `https://YOUR_USERNAME.github.io/lapoflove/` è®¿é—®

**é…ç½®æ­¥éª¤**ï¼š
1. è¿›å…¥ä»“åº“çš„ Settings > Pages
2. Source é€‰æ‹© "GitHub Actions"
3. æ¨é€ä»£ç åˆ° master åˆ†æ”¯å³å¯è‡ªåŠ¨éƒ¨ç½²

## ğŸ“ é¡¹ç›®ç»“æ„

```
lapoflove/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ build.yml           # GitHub Actions è‡ªåŠ¨éƒ¨ç½²é…ç½®
â”œâ”€â”€ public/                     # é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html             # ä¸»é¡µï¼ˆæœåŠ¡å™¨ç‰ˆæœ¬ï¼‰
â”‚   â”œâ”€â”€ index-static.html      # ä¸»é¡µï¼ˆé™æ€ç‰ˆæœ¬ï¼‰
â”‚   â”œâ”€â”€ create.html            # åˆ›å»ºé¡µé¢ï¼ˆæœåŠ¡å™¨ç‰ˆæœ¬ï¼‰
â”‚   â”œâ”€â”€ create-static.html     # åˆ›å»ºé¡µé¢ï¼ˆé™æ€ç‰ˆæœ¬ï¼‰
â”‚   â”œâ”€â”€ admin.html             # ç®¡ç†é¢æ¿
â”‚   â”œâ”€â”€ style.css              # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ demo-images/           # æ¼”ç¤ºå›¾ç‰‡
â”‚   â””â”€â”€ uploads/               # ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡
â”œâ”€â”€ data/                       # æ•°æ®å­˜å‚¨ï¼ˆæœåŠ¡å™¨ç‰ˆæœ¬ï¼‰
â”‚   â”œâ”€â”€ memorials.json         # çºªå¿µå¢“åœ°æ•°æ®
â”‚   â”œâ”€â”€ users.json             # ç”¨æˆ·æ•°æ®
â”‚   â””â”€â”€ banned_users.json      # å°ç¦ç”¨æˆ·æ•°æ®
â”œâ”€â”€ dist/                       # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ docker/                     # Docker é…ç½®æ–‡ä»¶
â”œâ”€â”€ server.js                   # Express æœåŠ¡å™¨
â”œâ”€â”€ pet-images-cdn.js          # CDN å›¾ç‰‡æ± 
â”œâ”€â”€ build-static.js            # é™æ€ç‰ˆæœ¬æ„å»ºè„šæœ¬
â”œâ”€â”€ build-server.js            # æœåŠ¡å™¨ç‰ˆæœ¬æ„å»ºè„šæœ¬
â”œâ”€â”€ package.json               # é¡¹ç›®é…ç½®
â””â”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
```

## ğŸ”Œ API æ¥å£ï¼ˆä»…æœåŠ¡å™¨ç‰ˆæœ¬ï¼‰

### å…¬å¼€æ¥å£

#### è·å–æ‰€æœ‰çºªå¿µå¢“åœ°
```http
GET /api/memorials
```

#### è·å–ç‰¹å®šçºªå¿µå¢“åœ°
```http
GET /api/memorial/:id
```

#### åˆ›å»ºçºªå¿µå¢“åœ°
```http
POST /api/memorial
Content-Type: multipart/form-data

å‚æ•°:
- petName: å® ç‰©å§“å (å¿…å¡«)
- ownerName: ä¸»äººå§“å (å¿…å¡«)
- story: çºªå¿µæ•…äº‹ (å¿…å¡«)
- birthDate: å‡ºç”Ÿæ—¥æœŸ (å¯é€‰)
- deathDate: ç¦»å¼€æ—¥æœŸ (å¯é€‰)
- photos: ç…§ç‰‡æ–‡ä»¶ (å¯é€‰ï¼Œæ”¯æŒå¤šå¼ )
- useRandomImage: ä½¿ç”¨éšæœºCDNå›¾ç‰‡ (å¯é€‰ï¼Œtrue/false)
```

#### ç‚¹äº®çºªå¿µèœ¡çƒ›
```http
POST /api/memorial/:id/candle
Content-Type: application/json

{
  "message": "çºªå¿µç•™è¨€",
  "senderName": "ç•™è¨€è€…å§“å"
}
```

### ç®¡ç†å‘˜æ¥å£

éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ  `admin-key: lapoflove-admin-2025`

```http
GET /api/admin/memorials          # è·å–æ‰€æœ‰çºªå¿µå†Œï¼ˆåŒ…æ‹¬å·²åˆ é™¤ï¼‰
GET /api/admin/users               # è·å–æ‰€æœ‰ç”¨æˆ·
DELETE /api/admin/memorial/:id     # åˆ é™¤çºªå¿µå†Œ
PUT /api/admin/memorial/:id/restore # æ¢å¤çºªå¿µå†Œ
POST /api/admin/ban-user           # å°ç¦ç”¨æˆ·
DELETE /api/admin/ban-user/:id     # è§£å°ç”¨æˆ·
POST /api/admin/generate-demo-data # ç”Ÿæˆæ¼”ç¤ºæ•°æ®
```

è®¿é—®ç®¡ç†é¢æ¿ï¼š`http://localhost:3000/admin`

**é™æ€æ¼”ç¤ºç‰ˆæœ¬ç®¡ç†é¢æ¿**ï¼š[https://inernoro.github.io/lapoflove/admin.html](https://inernoro.github.io/lapoflove/admin.html)
- ç”¨æˆ·åï¼š`admin`  
- å¯†ç ï¼š`lapoflove2025`

## ç‰¹è‰²è®¾è®¡

- **æ¸å˜èƒŒæ™¯**: ä½¿ç”¨ç´«è‰²æ¸å˜è¥é€ æ¸©é¦¨æ°›å›´
- **æ¯›ç»ç’ƒæ•ˆæœ**: ç°ä»£åŒ–çš„è§†è§‰è®¾è®¡
- **åŠ¨ç”»æ•ˆæœ**: æµç•…çš„æ·¡å…¥åŠ¨ç”»å’Œæ‚¬åœæ•ˆæœ
- **å“åº”å¼å¸ƒå±€**: é€‚é…å„ç§è®¾å¤‡å±å¹•
- **æƒ…æ„ŸåŒ–è®¾è®¡**: ä¸“æ³¨äºçºªå¿µå’Œæ€€å¿µçš„æƒ…æ„Ÿè¡¨è¾¾

## ğŸ“– ä½¿ç”¨è¯´æ˜

### æ™®é€šç”¨æˆ·

1. **è®¿é—®é¦–é¡µ** - æŸ¥çœ‹æ‰€æœ‰çºªå¿µå¢“åœ°
2. **æœç´¢çºªå¿µ** - é€šè¿‡å® ç‰©åæˆ–ä¸»äººåæœç´¢
3. **æŸ¥çœ‹è¯¦æƒ…** - ç‚¹å‡»çºªå¿µå¡ç‰‡æŸ¥çœ‹å®Œæ•´æ•…äº‹
4. **ç‚¹äº®èœ¡çƒ›** - ä¸ºå® ç‰©ç•™è¨€å’Œç‚¹äº®çºªå¿µèœ¡çƒ›
5. **åˆ›å»ºçºªå¿µ** - ç‚¹å‡»"Create a memorial"æŒ‰é’®
   - å¡«å†™å® ç‰©ä¿¡æ¯
   - ä¸Šä¼ ç…§ç‰‡æˆ–ä½¿ç”¨æ¼”ç¤ºå›¾ç‰‡
   - å†™ä¸‹çºªå¿µæ•…äº‹
   - æäº¤åˆ›å»º

### ç®¡ç†å‘˜

1. è®¿é—®ç®¡ç†é¢æ¿ï¼š`/admin`
2. è¾“å…¥ç®¡ç†å¯†é’¥ï¼š`lapoflove-admin-2025`
3. å¯ä»¥ï¼š
   - æŸ¥çœ‹æ‰€æœ‰çºªå¿µå†Œï¼ˆåŒ…æ‹¬å·²åˆ é™¤çš„ï¼‰
   - åˆ é™¤/æ¢å¤çºªå¿µå†Œ
   - ç®¡ç†ç”¨æˆ·å’Œå°ç¦
   - ç”Ÿæˆæ¼”ç¤ºæ•°æ®

## âš™ï¸ ç¯å¢ƒå˜é‡é…ç½®ï¼ˆå¯é€‰ï¼‰

æœåŠ¡å™¨ç‰ˆæœ¬æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ï¼š

```bash
PORT=3000                          # æœåŠ¡å™¨ç«¯å£
ADMIN_KEY=lapoflove-admin-2025    # ç®¡ç†å‘˜å¯†é’¥
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### é™æ€ç‰ˆæœ¬
- âœ… æ— éœ€åç«¯ï¼Œå¯ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
- âœ… æ•°æ®æ˜¯æ¨¡æ‹Ÿçš„ï¼Œåˆ·æ–°é¡µé¢åæ¢å¤
- âœ… é€‚åˆæ¼”ç¤ºå’Œé¢„è§ˆ
- âŒ æ— æ³•çœŸå®ä¿å­˜æ•°æ®

### æœåŠ¡å™¨ç‰ˆæœ¬
- âœ… æ”¯æŒçœŸå®çš„æ•°æ®å­˜å‚¨
- âœ… æ”¯æŒæ–‡ä»¶ä¸Šä¼ 
- âœ… æ”¯æŒç®¡ç†åŠŸèƒ½
- âš ï¸ å›¾ç‰‡ä¿å­˜åœ¨ `public/uploads/` ç›®å½•
- âš ï¸ æ•°æ®ä¿å­˜åœ¨ `data/` ç›®å½•çš„ JSON æ–‡ä»¶ä¸­
- âš ï¸ é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨åˆ›å»ºå¿…è¦çš„ç›®å½•
- âš ï¸ ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨æ•°æ®åº“è€Œé JSON æ–‡ä»¶

### Docker éƒ¨ç½²

é¡¹ç›®åŒ…å« Docker é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å¿«é€Ÿéƒ¨ç½²ï¼š

```bash
# ä½¿ç”¨ Docker Compose
docker-compose up -d

# æˆ–ä½¿ç”¨å•ç‹¬çš„ Dockerfile
docker build -t pet-memorial .
docker run -p 3000:3000 pet-memorial
```

## ğŸ¯ åŠŸèƒ½è·¯çº¿å›¾

- [x] åŸºç¡€çºªå¿µå¢™åŠŸèƒ½
- [x] åˆ›å»ºçºªå¿µé¡µé¢
- [x] ç‚¹äº®èœ¡çƒ›åŠŸèƒ½
- [x] æœç´¢åŠŸèƒ½
- [x] ç®¡ç†é¢æ¿
- [x] é™æ€é¢„è§ˆç‰ˆæœ¬
- [x] GitHub Pages è‡ªåŠ¨éƒ¨ç½²
- [x] CDN å›¾ç‰‡æ”¯æŒ
- [ ] ç”¨æˆ·æ³¨å†Œç™»å½•
- [ ] æ•°æ®åº“æ”¯æŒï¼ˆMySQL/PostgreSQLï¼‰
- [ ] å›¾ç‰‡äº‘å­˜å‚¨ï¼ˆOSS/S3ï¼‰
- [ ] ç¤¾äº¤åˆ†äº«åŠŸèƒ½
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] ç§»åŠ¨ç«¯ APP

## ğŸ› ï¸ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•åœ¨ Windows ä¸Šå¿«é€Ÿé¢„è§ˆï¼Ÿ
A: è¿è¡Œ `npm run dev:static` å³å¯ï¼Œä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨æ˜¾ç¤ºé™æ€é¢„è§ˆç‰ˆæœ¬ã€‚

### Q: é™æ€ç‰ˆæœ¬å’ŒæœåŠ¡å™¨ç‰ˆæœ¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
A: é™æ€ç‰ˆæœ¬ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œæ— éœ€åç«¯ï¼Œé€‚åˆæ¼”ç¤ºï¼›æœåŠ¡å™¨ç‰ˆæœ¬æ”¯æŒçœŸå®æ•°æ®å­˜å‚¨ã€‚

### Q: GitHub Pages éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
A: 
1. ç¡®ä¿ä»“åº“è®¾ç½®ä¸­å¯ç”¨äº† GitHub Pages
2. æ£€æŸ¥ Settings > Pagesï¼ŒSource é€‰æ‹© "GitHub Actions"
3. æŸ¥çœ‹ Actions æ ‡ç­¾é¡µçš„æ„å»ºæ—¥å¿—

### Q: å¦‚ä½•æ›´æ”¹ç®¡ç†å‘˜å¯†é’¥ï¼Ÿ
A: ä¿®æ”¹ `server.js` ä¸­çš„ `lapoflove-admin-2025` æˆ–è®¾ç½®ç¯å¢ƒå˜é‡ `ADMIN_KEY`ã€‚

### Q: æ”¯æŒå“ªäº›æµè§ˆå™¨ï¼Ÿ
A: æ”¯æŒæ‰€æœ‰ç°ä»£æµè§ˆå™¨ï¼ˆChrome, Firefox, Safari, Edgeï¼‰ï¼ŒIE ä¸æ”¯æŒã€‚

## ğŸ¤ å¼€å‘ä¸è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/YOUR_USERNAME/lapoflove.git
cd lapoflove

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æˆ–å¯åŠ¨é™æ€é¢„è§ˆ
npm run dev:static
```

### è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License

Copyright (c) 2025

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

## ğŸ’– è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºå® ç‰©çºªå¿µå¹³å°è´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ã€‚

---

**ç”¨çˆ±çºªå¿µæ¯ä¸€ä¸ªæ¯›å­©å­** ğŸ¾